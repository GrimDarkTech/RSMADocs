# Настройка текстового дисплея
[Switch to English](/Manual/en/Electronics/Setting_up_display.md)

В RSMA для моделирования текстовых дисплеев используется компонент **RSMADisplay**

## Требования
- модель объекта дисплея с настроенной физикой твердого тела

## Настройка модуля RSMADisplay
Далее описаны шаги, необходимые для создания текстового дисплея
## Подготовка объектов

Поместите объект дисплея на сцену Unity (рис. 1).\
![](/Manual/_images/Setting_up_display/Object.png)\
Рисунок 1 – Настраиваемый объект

Для корректной настройки модуля необходимо, чтобы экран дисплея был направлен по оси Z в локальной системе координат. При этом верхняя часть дисплея была направлена по оси Y.

Убедитесь, что инструмент перемещения объектов переключен на режим работы в локальных координатах, как показано на рисунке 2.\
![](/Manual/_images/Setting_up_hinge_joints/ToolSettings.png)\
Рисунок 2 – Настройки инструмента позиционирования объектов

В окне "Hierarchy" выберите объект дисплея. Выбранный объект выделится в окне "Scene". На выделенном объекте появится инструмент позиционирования (рис. 3).
Убедитесь, что векторы локальной системы координат совпадают с векторами, показанными на рисунке 3.\
![](/Manual/_images/Setting_up_display/Axis.png)\
Рисунок 3 – Инструмент позиционирования на выбранном объекте

Направления стрелок инструмента соотвествуют ориентации локальной системы координат объекта, где:
- синяя стрелка - ось Z (вперед);
- красная стрелка - ось X (вправо);
- зеленая стрелка - ось Y (вверх).

Если локальная система координат повернута и не совпадает, создайте родительский объект для модели дисплея. Для этого щелкните правой кнопкой мыши на объекте в окне "Hierarchy", выберите пункт "Create Empty Parent" (рис. 4) и введите имя нового объекта.\
![1716849814319](/Manual/_images/Setting_up_the_physics_of_models/1716849814319.png)\
Рисунок 4 – Создание родительского объекта

В окне "Hierarchy" выберите дочерний объект и отрегулируйте его вращение и положение с импользованием [инструментов Unity](https://docs.unity3d.com/Manual/PositioningGameObjects.html)

## Добавление компонента RSMADisplay

В окне "Hierarchy" выберите объект дисплея (рис. 5).\
![](/Manual/_images/Setting_up_display/Selected.png)\
Рисунок 5 – Выбран объект LCD

В окне "Inspector" используйте кнопку "Add Component" для поиска и добавления компонента RSMADisplay (рис. 6).\
![](/Manual/_images/Setting_up_display/AddComponent.png)\
Рисунок 6 – Добавление компонента LimitSwitch в окне "Inspector"

Если компонент был успешно добавлен, он отобразится в окне инспектора (рис. 7).\
![](/Manual/_images/Setting_up_display/Component.png)\
Рисунок 7 –  Компонент в окне "Inspector"

## Настройка компонента RSMADisplay

Меню компонента RSMADisplay содержит следующие поля, используте их для настройки:
| Поле | Описание | Тип | Значение|
|--|--|--|--|
|text|Компонент TextMesh, используемый для отображения текста|TMPro.TextMeshPro|Ссылка|
|fontSize|Размер шрифта в миллиметрах|System.Single|от ±1,5 x 10e−45 до ±3,4 x 10e38|
|fontColor|Цвет шрифта в RGB|UnityEngine.Color|Цвет|
|characterSpacing|Интервал между символами в em|System.Single|от ±1,5 x 10e−45 до ±3,4 x 10e38|
|lineSpacing|Межстрочный интервал в em|System.Single|от ±1,5 x 10e−45 до ±3,4 x 10e38|
|lowerLeftAnchor|Координаты левого нижнего угла дисплея|UnityEngine.Vector3|от ±1,5 x 10e−45 до ±3,4 x 10e38|
|upperRightAnchor|Координаты правого верхнего угла дисплея|UnityEngine.Vector3|от ±1,5 x 10e−45 до ±3,4 x 10e38|
|isDrawAnchors|Если значение равно True, отображаются точки привязки к углам|System.Boolean|True/False|

Для заполнения поля text поместите на сцену объект TextMeshPro. Вы может создать его самостоятельно, однако рекомендуется использовать специальный префаб с настороенным текстом для дисплея.
В окне "Project" перейдите в дирректорию по пути ```Assets/Prefabs/Display/```. Наведите курсор на объект DisplayText16C (рис. 8), зажмите левую кнопку мыши и перенесте его на сцену.\
![](/Manual/_images/Setting_up_display/Prefab.png)\
Рисунок 8 – префаб DisplayText16C

В окне "Hierarchy" найдите добавленный объект текста, наведите на него курсор, зажмите левую кнопку мыши и перенесите его в поле text (рис. 9).\
![](/Manual/_images/Setting_up_display/Text.png)\
Рисунок 9 – Значение поля text

Укажите желаемый размер шрифта в мм. Для этого введите значение в поле fontSize. В настраиваемом дисплее задан размер 5 мм (рис. 10).\
![](/Manual/_images/Setting_up_display/FontSize.png)\
Рисунок 10 – Значение поля fontSize

Задайте цвет символов, используя поле fontColor. Значение по умолчанию - белый. В примере выбран оранжевый цвет (рис. 11).\
![](/Manual/_images/Setting_up_display/Color.png)\
Рисунок 11 – Значение поля fontColor

Установите значения интервалов между символами и строками. Для этого используйте поля characterSpacing и lineSpacing, соответственно.
Значения по умолчанию:
- characterSpacing - 12;
- lineSpacing - 24.

В рассматриваемом примере, оставлены значения по умолчанию (рис. 12).\
![](/Manual/_images/Setting_up_display/Spacing.png)\
Рисунок 12 – Значения интервалов

### Настройка углов экрана

Настройка точек привзяки для углов экрана производится с использованием полей lowerLeftAnchor и upperRightAnchor.

Включите отображение точек привязки, поставив галочку в поле isDrawAnchors. Точки прявзки будут отрисованы в окне "Scene", красная сфера - точка привязки левого нижнего угла дисплея, зеленая - правого верхнего. На рисунке 13 показаны точки привязки для дисплея.\
![](/Manual/_images/Setting_up_display/Anchors.png)\
Рисунок 13 – Отображение точек привязки

Изменяя значение поля lowerLeftAnchor переместите красную сферу в левый нижний угол дисплея.
Изменяя значение поля upperRightAnchor переместите зеленую сферу в правый верхний угол дисплея (рис. 14).\
![](/Manual/_images/Setting_up_display/AnchorsSetted.png)\
Рисунок 14 – Настроенные точки привязки

В рассматриваемом примере, заданы следующие настройки привзяки (рис. 15):\
![](/Manual/_images/Setting_up_display/Setted.png)\
Рисунок 15 – Настройки привязки

После завершения настройки отключите отображение сфер, сняв галочку в поле isDrawAnchors.

Примените изменения в настройках дисплея. Для этого нажмите правой кнопкой на заголовок компонента RSMADisplay (рис. 16), во всплывающем окне выберите "Apply changes".\
![](/Manual/_images/Setting_up_display/Header.png)\
Рисунок 16 – Заголовок компонента RSMADisplay\
![](/Manual/_images/Setting_up_display/Apply.png)\
Рисунок 17 – Заголовок компонента RSMADisplay

Если после примения изменений текст некорректно отображается (рис. 18), отрегулируйте его вращение с импользованием [инструментов Unity](https://docs.unity3d.com/Manual/PositioningGameObjects.html) и примените изменения снова (рис. 19).\
![](/Manual/_images/Setting_up_display/Bug.png)\
Рисунок 18 – Некорректное отображение текста\
![](/Manual/_images/Setting_up_display/Complete.png)\
Рисунок 19 – Настроенный дисплей

## Задания

С целью получения опыта настройки дисплеев и улучшения навыков работы с компонентом RSMADisplay, соберите:
- Текстовый дисплей с одним рядом символов;
- Текстовый дисплей с двумя рядами символов;
- Текстовый дисплей с тремя рядами символов.
